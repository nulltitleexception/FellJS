<!DOCTYPE html>

<html lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Fell</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/index.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/game.css" />

	<link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
	<link rel="icon" type="image/png" href="/assets/images/favicon.png">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src='assets/js/game.js'></script>

	<link href='http://fonts.googleapis.com/css?family=IM+Fell+English+SC&text=Fell' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
</head>
<body>
	<div id="background"></div>
	<div id="wrapper">
		<header>
			<div id="title">
				<h1 class="toptitle">Fell</h1>
				<h6 class="toptitle">pre-alpha</h6>
			</div>
			<h2>A JavaScript-based online multiplayer game.</h2>
		</header>

		<div id="login">
			<form id="loginInfo" action="#">
				<input type="text" name="user" id="user" class="text" placeholder="Username"/>
				<input type="password" name="pass" id="pass" class="text" placeholder="Password, if you have one"/>
				<input type="submit" value="Enter the Realm" id="submit" />
			</form>
		</div>
		<div id="drop_zone">Drop texture .png's here</div>
<output id="list"></output>

<script>
  function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    var files = evt.dataTransfer.files; // FileList object.

    var reader = new FileReader();
    reader.onload = function(theFile){
      var img = new Image();
      img.src = reader.result;
      JS_GAME.game.textures[theFile.name.replace(".png", "")] = img;
    }
    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                  f.size, ' bytes, last modified: ',
                  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
                  '</li>');
    }
    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document.getElementById('drop_zone');
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);
</script>
	</div>
</body>
</html>